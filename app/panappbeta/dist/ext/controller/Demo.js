sap.ui.define(["sap/m/MessageBox","sap/m/MessageToast","sap/ui/core/UIComponent"],function(e,t,n){"use strict";var o,a;function s(t,n){var a;function s(e){a&&a.getBeginButton().setEnabled(e)}function i(e){a.setBusy(e)}function c(){a&&a.close()}function r(t,n,o){e.error("Upload failed",{title:"Error"})}function m(e){return sap.ui.core.Fragment.byId("excelUploadDialog",e)}return{onBeforeOpen:function(e){},onCancel:function(e){o&&o.close()}}}return{demo:function(e,t,n){var a=this;this.loadFragment({id:"excelUploadDialog"+(new Date).getTime(),name:"panappbeta.ext.fragment.timeline",controller:s(this,"MediaFile")}).then(async function(e){function t(){var e=Math.floor(Math.random()*1e6);var t=(new Date).getTime();var n=t+"-"+e;return n}let a="getcomments";let s=n.getModel().bindContext(`/${a}(...)`);console.log();const i=n.oHeaderContext.sPath;const c=/PAN_Number='([^']+)'/;const r=i.match(c);const m=r?r[1]:null;s.setParameter("ID",m);await s.execute();const l=s.getBoundContext();let u=l.getValue();u=JSON.parse(u.value);const d=[];const g=u[0];if(g==undefined){e.mAggregations.content[0].destroyItems();var f=new sap.suite.ui.commons.TimelineItem({text:"No Comments Found"});e.mAggregations.content[0].addItem(f);e.mAggregations.content[0].addItem(new sap.m.Button(`${"button"+t()}`,{text:"Cancel",press:function(t){e.close()},layoutData:new sap.m.FlexItemData({growFactor:5,alignSelf:"End"})}))}else{u.forEach(e=>{const t=e.createdAt;const n=e.createdBy;const o=e.modifiedAt;const a=e.modifiedBy;const s=e.idd;const i=e.PAN_Number;const c=e.user;const r=e.Comments;const m=e.status;d.push({firsname:c,lname:m,comment:r,dateTime:t})});o=e;var p=d.length;console.log(p);e.mAggregations.content[0].destroyItems();for(let n=0;n<d.length;n++){var f=new sap.suite.ui.commons.TimelineItem({id:`${"item"+t()}`,dateTime:`${d[n].dateTime}`,title:`${d[n].lname}`,userNameClickable:false,userNameClicked:"onUserNameClick",select:"onPressItems",userPicture:"Photo",text:`${d[n].comment}`,userName:`${d[n].firsname}`});e.mAggregations.content[0].addItem(f)}e.mAggregations.content[0].addItem(new sap.m.Button(`${"button"+t()}`,{text:"Cancel",press:function(t){e.close()},layoutData:new sap.m.FlexItemData({growFactor:5,alignSelf:"End"})}))}e.open()})}}});