sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";const t=async function(e,t,n){console.log(e);let o=e.bindContext(`/${t}(...)`);o.setParameter("ID",JSON.stringify(n));await o.execute();let a=o.getBoundContext();let i=a.getObject();if(i){return i.value}else{return""}};return e.extend("panappbeta.ext.controller.Vendor",{override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onBeforeBinding:async function(e){const n=this.base.getExtensionAPI().getModel();var o=this;this.getView().getContent()[0].getSections()[0].setVisible(false);const a=this.getView().getContent()[0].getHeaderTitle().mAggregations._actionsToolbar.getContent()[4].mProperties.visible;debugger;var i;if(this.getView().getContent()[0].getHeaderTitle().mAggregations._actionsToolbar.getContent()[4].mProperties.visible==true){var g="getData";var r=window.location.href;var s=r.split("(");var d=s[1];var c=d.split("'");var l=c[1];i=await t(n,g,l)}if(i==="Pending for Approval"||i==="Approved"||i==="Rejected"){o.getView().getContent()[0].setShowEditHeaderButton(false);o.getView().getContent()[0].getHeaderTitle().mAggregations._actionsToolbar.getContent()[1].setEnabled(false);o.getView().getContent()[0].getHeaderTitle().mAggregations._actionsToolbar.getContent()[1].setVisible(false);o.getView().getContent()[0].getHeaderTitle().mAggregations._actionsToolbar.getContent()[1].destroy()}},onAfterBinding:async function(e){var t=this.base.getView().getContent()[0];t.attachSectionChange(function(){var e=this.getScrollingSectionId();if(e=="panappbeta::tab1_tab1tovendor_dataObjectPage--fe::FacetSection::VendorResponse"){debugger}else{var t=sap.ui.getCore().byId(`${e}`).mAggregations._grid.mAggregations.content[0].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations.columns;debugger;if(t!=undefined)t.forEach(t=>{var n=t.mProperties.dataProperty;var o=t.getHeader();var a=o.length;debugger;var i=sap.ui.getCore().byId(`${e}`).mAggregations._grid.mAggregations.content[0].mAggregations._grid.mAggregations.content[0].mAggregations.content.mAggregations.content.mAggregations._content.mBindingInfos.rows.binding.oCache.getValue();const g=Math.max(...i.map(e=>e[n].length??8));if(g>a)a=g;if(a>50){a=50}const r=(a+2)*8+20+"px";t.setWidth(r)})}});let n={sorters:[{descending:false,name:"Property::slNo"}]};await sap.ui.getCore().byId("panappbeta::tab1_tab1tovendor_dataObjectPage--fe::table::vendtoptd::LineItem::PAYMENT_TERM_DETAILS").setSortConditions(n);const o=location.href;const a=/PAN_Number='([^']+)'/;const i=o.match(a);const g=i?i[1]:null;let r={PAN_Number:[{operator:"EQ",values:[g],validated:"NotValidated"}]};sap.ui.getCore().byId("panappbeta::tab1_tab1tovendor_dataObjectPage--fe::table::vendtopd::LineItem::PAN_PRICE_DETAILS").setFilterConditions(r);sap.ui.getCore().byId("panappbeta::tab1_tab1tovendor_dataObjectPage--fe::table::vendtoptd::LineItem::PAYMENT_TERM_DETAILS").setFilterConditions(r)}}}})});